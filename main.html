<!DOCTYPE html>
<html>

<head>
	<title>Image Processing API</title>
</head>

<body>
	<h1>Image Processing API</h1>

	<form>
		<input type="file" id="imageInput">
		<button type="button" onclick="processImage()">Process Image</button>
	</form>

	<br>

	<img id="originalImage">
	<br>
	<img id="processedImage">

	<script>
		function processImage() {
			const file = document.getElementById('imageInput').files[0];
			if (!file) {
                alert("Please select an image first!");
                return;
            }

            const formData = new FormData();
            formData.append("image", file);

            document.getElementById("originalImage").src = URL.createObjectURL(file);

            const url = "https://api.deepai.org/api/toonify";

            fetch(url, {
                method: "POST",
                headers: {
                    "api-key": "quickstart-QUdJIGlzIGNvbWluZy4uLi4K"
                },
                body: formData
            })
            .then(res => res.json())
            .then(data => {
                document.getElementById("processedImage").src = data.output_url;
            })
            .catch(err => console.error("Error:", err));
        }
	</script>
</body>

</html>